<!DOCTYPE html><html><head><meta name="viewport" content="width=device-width"/><meta charSet="utf-8"/><link rel="manifest" href="/favicons/site.webmanifest"/><link rel="apple-touch-icon" sizes="180x180" href="/favicons/apple-touch-icon.png"/><link rel="icon" sizes="32x32" href="/favicons/favicon-32x32.png"/><link rel="icon" sizes="16x16" href="/favicons/favicon-16x16.png"/><link rel="mask-icon" sizes="" href="/favicons/safari-pinned-tab.svg"/><link rel="shortcut icon" sizes="" href="/favicons/favicon.ico"/><link sizes="192x192" href="/favicons/android-chrome-192x192.png"/><link sizes="512x512" href="/favicons/android-chrome-512x512.png"/><meta name="theme-color" content="#000000"/><meta name="description" content="Blog"/><meta name="msapplication-TileColor" content="#000"/><script async="" src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-8378941597140357" crossorigin="anonymous"></script><title>NextJS Error Page Customization | PK</title><meta property="og:image" content=""/><meta name="next-head-count" content="16"/><link rel="preload" href="/pk-blog/_next/static/css/ed496ffb19588779.css" as="style"/><link rel="stylesheet" href="/pk-blog/_next/static/css/ed496ffb19588779.css" data-n-g=""/><link rel="preload" href="/pk-blog/_next/static/css/2f52fa03d07efde0.css" as="style"/><link rel="stylesheet" href="/pk-blog/_next/static/css/2f52fa03d07efde0.css" data-n-p=""/><noscript data-n-css=""></noscript><script defer="" nomodule="" src="/pk-blog/_next/static/chunks/polyfills-5cd94c89d3acac5f.js"></script><script src="/pk-blog/_next/static/chunks/webpack-b225d62b3c0492fb.js" defer=""></script><script src="/pk-blog/_next/static/chunks/framework-dc33c0b5493501f0.js" defer=""></script><script src="/pk-blog/_next/static/chunks/main-b91e4ecd079f7640.js" defer=""></script><script src="/pk-blog/_next/static/chunks/pages/_app-348bd50da4454604.js" defer=""></script><script src="/pk-blog/_next/static/chunks/388-b5792a596696dcef.js" defer=""></script><script src="/pk-blog/_next/static/chunks/715-8581af64e87409c6.js" defer=""></script><script src="/pk-blog/_next/static/chunks/799-03386279e399534f.js" defer=""></script><script src="/pk-blog/_next/static/chunks/280-8c7efacdacbc7e71.js" defer=""></script><script src="/pk-blog/_next/static/chunks/829-1e45f64a4b6a4443.js" defer=""></script><script src="/pk-blog/_next/static/chunks/495-b7ab9e8a5b4246fd.js" defer=""></script><script src="/pk-blog/_next/static/chunks/pages/posts/%5Bslug%5D-9e3f39b7463bd9f6.js" defer=""></script><script src="/pk-blog/_next/static/-2EqFFOj30m3NV4LqoTUp/_buildManifest.js" defer=""></script><script src="/pk-blog/_next/static/-2EqFFOj30m3NV4LqoTUp/_ssgManifest.js" defer=""></script><script src="/pk-blog/_next/static/-2EqFFOj30m3NV4LqoTUp/_middlewareManifest.js" defer=""></script><style id="__jsx-2687284737">.layout-header.jsx-2687284737:{background-color:#f8f9fa;}</style><style id="__jsx-2675683731">.layout-footer.jsx-2675683731{background-color:#e9ecef;color:$indigo;}.notice-container.jsx-2675683731 h4.jsx-2675683731,.notice-container.jsx-2675683731 p.jsx-2675683731{text-align:end;margin:0;}.locale-list-container.jsx-2675683731{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-wrap:wrap;-ms-flex-wrap:wrap;flex-wrap:wrap;}</style></head><body><div id="__next" data-reactroot=""><header class="jsx-2687284737 layout-header"><div class="container px-0"><div class="row"><div class="col"><nav class="navbar navbar-expand-md navbar-light bg-light"><div class="container-fluid"><a class="navbar-brand" href="/pk-blog">PK</a><button aria-controls="navbar_navbarSupportedContent__YNnW3" type="button" aria-label="Toggle navigation" class="navbar-toggler collapsed"><span class="navbar-toggler-icon"></span></button><div class="navbar-collapse collapse" id="navbar_navbarSupportedContent__YNnW3"><div class="me-auto mb-2 mb-lg-0 navbar-nav"><a href="/pk-blog/home" data-rr-ui-event-key="/pk-blog/home" class="nav-link">Home</a><a href="/pk-blog/post-tags" data-rr-ui-event-key="/pk-blog/post-tags" class="nav-link">Tags</a><a href="/pk-blog/post-categories" data-rr-ui-event-key="/pk-blog/post-categories" class="nav-link">Categories</a><a href="/pk-blog/posts/about" data-rr-ui-event-key="/pk-blog/posts/about" class="nav-link">About</a></div></div></div></nav></div></div></div></header><div class="container-fluid px-0 layout_main__TaK_R"><div class="row"><div class="col"><div class="container"><main><div class="container"><article class=""><p class="h1 text-nowrap"> <!-- -->NextJS Error Page Customization<!-- --> </p><div class="hstack gap-3"><span style="box-sizing:border-box;display:inline-block;overflow:hidden;width:32px;height:32px;background:none;opacity:1;border:0;margin:0;padding:0;position:relative"><img alt="author image" src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" decoding="async" data-nimg="fixed" class="" style="position:absolute;top:0;left:0;bottom:0;right:0;box-sizing:border-box;padding:0;border:none;margin:auto;display:block;width:0;height:0;min-width:100%;max-width:100%;min-height:100%;max-height:100%;object-fit:fill"/><noscript><img alt="author image" srcSet="https://www.aistyler.com/pk-blog/imgs/PK.png?auto=format&amp;fit=max&amp;w=32 1x, https://www.aistyler.com/pk-blog/imgs/PK.png?auto=format&amp;fit=max&amp;w=64 2x" src="https://www.aistyler.com/pk-blog/imgs/PK.png?auto=format&amp;fit=max&amp;w=64" decoding="async" data-nimg="fixed" style="position:absolute;top:0;left:0;bottom:0;right:0;box-sizing:border-box;padding:0;border:none;margin:auto;display:block;width:0;height:0;min-width:100%;max-width:100%;min-height:100%;max-height:100%;object-fit:fill" class="" loading="lazy"/></noscript></span><div>peterhs.kang</div></div><time dateTime="2021-12-12">December	12, 2021</time><div class="mx-0" style="height:20rem;position:relative"><span style="box-sizing:border-box;display:block;overflow:hidden;width:initial;height:initial;background:none;opacity:1;border:0;margin:0;padding:0;position:absolute;top:0;left:0;bottom:0;right:0"><img alt="Cover for NextJS Error Page Customization" src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" decoding="async" data-nimg="fill" class="img-fluid" style="position:absolute;top:0;left:0;bottom:0;right:0;box-sizing:border-box;padding:0;border:none;margin:auto;display:block;width:0;height:0;min-width:100%;max-width:100%;min-height:100%;max-height:100%;object-fit:contain"/><noscript><img alt="Cover for NextJS Error Page Customization" sizes="100vw" srcSet="https://www.aistyler.com/pk-blog/imgs/nextjs-logo.webp?auto=format&amp;fit=max&amp;w=640 640w, https://www.aistyler.com/pk-blog/imgs/nextjs-logo.webp?auto=format&amp;fit=max&amp;w=750 750w, https://www.aistyler.com/pk-blog/imgs/nextjs-logo.webp?auto=format&amp;fit=max&amp;w=828 828w, https://www.aistyler.com/pk-blog/imgs/nextjs-logo.webp?auto=format&amp;fit=max&amp;w=1080 1080w, https://www.aistyler.com/pk-blog/imgs/nextjs-logo.webp?auto=format&amp;fit=max&amp;w=1200 1200w, https://www.aistyler.com/pk-blog/imgs/nextjs-logo.webp?auto=format&amp;fit=max&amp;w=1920 1920w, https://www.aistyler.com/pk-blog/imgs/nextjs-logo.webp?auto=format&amp;fit=max&amp;w=2048 2048w, https://www.aistyler.com/pk-blog/imgs/nextjs-logo.webp?auto=format&amp;fit=max&amp;w=3840 3840w" src="https://www.aistyler.com/pk-blog/imgs/nextjs-logo.webp?auto=format&amp;fit=max&amp;w=3840" decoding="async" data-nimg="fill" style="position:absolute;top:0;left:0;bottom:0;right:0;box-sizing:border-box;padding:0;border:none;margin:auto;display:block;width:0;height:0;min-width:100%;max-width:100%;min-height:100%;max-height:100%;object-fit:contain" class="img-fluid" loading="lazy"/></noscript></span></div><div class="markdown-styles_markdown__uklvW mw-100 mx-auto"><h2 id="introduction">Introduction</h2><p>Next.js provides a static 404 page by default without having to add any additional files.<br/>But you should customize the error pages if you would like to render them with your own page layout.</p><h2 id="environment">Environment</h2><pre><code class="hljs language-sh">% node --version
v14.17.5
% yarn --version
1.22.11
% egrep <span class="hljs-string">&#x27;(&quot;react&quot;|&quot;next&quot;)&#x27;</span> package.json
    <span class="hljs-string">&quot;next&quot;</span>: <span class="hljs-string">&quot;~12.0.4&quot;</span>,
    <span class="hljs-string">&quot;react&quot;</span>: <span class="hljs-string">&quot;~17.0.2&quot;</span>,
</code></pre><h2 id="how-to-customize-the-404-error-page">How to customize the 404 error page</h2><ul><li>create a <code>pages/404.jsx</code> (or .tsx) file.</li></ul><pre><code class="hljs language-js"><span class="hljs-comment">// pages/404.jsx</span>
<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> <span class="hljs-keyword">function</span> <span class="hljs-title hljs-function">Custom404</span>(<span class="hljs-params"></span>) {
  <span class="hljs-keyword">return</span> <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">h1</span>&gt;</span>404 - Page Not Found<span class="hljs-tag">&lt;/<span class="hljs-name">h1</span>&gt;</span></span>;
}
</code></pre><ins class="adsbygoogle" style="display:block" data-ad-client="ca-pub-8378941597140357" data-ad-slot="5406215286" data-ad-format="auto" data-full-width-responsive="true"></ins><h2 id="how-to-customize-the-500-error-page">How to customize the 500 error page</h2><ul><li>create a <code>pages/500.jsx</code> (or .tsx) file.</li></ul><pre><code class="hljs language-js"><span class="hljs-comment">// pages/500.jsx</span>
<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> <span class="hljs-keyword">function</span> <span class="hljs-title hljs-function">Custom500</span>(<span class="hljs-params"></span>) {
  <span class="hljs-keyword">return</span> <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">h1</span>&gt;</span>500 - Server-side error occurred<span class="hljs-tag">&lt;/<span class="hljs-name">h1</span>&gt;</span></span>;
}
</code></pre><h2 id="how-to-customize-all-error-pages">How to customize all error pages</h2><ul><li>create a <code>pages/_error.jsx</code> (or .tsx) file.</li><li>N.B.<ul><li>pages/_error.js is only used in production.</li><li>In development you’ll get an error with the call stack to know where the error originated from.</li></ul></li></ul><pre><code class="hljs language-js"><span class="hljs-comment">// pages/_error.jsx</span>
<span class="hljs-keyword">function</span> <span class="hljs-title hljs-function">Error</span>(<span class="hljs-params">{ statusCode }</span>) {
  <span class="hljs-keyword">return</span> (
    <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">p</span>&gt;</span>
      {statusCode
        ? `An error ${statusCode} occurred on server`
        : &#x27;An error occurred on client&#x27;}
    <span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span></span>
  );
}

<span class="hljs-title hljs-class">Error</span>.<span class="hljs-property">getInitialProps</span> = <span class="hljs-function">(<span class="hljs-params">{ res, err }</span>) =&gt;</span> {
  <span class="hljs-keyword">const</span> statusCode = res ? res.<span class="hljs-property">statusCode</span> : err ? err.<span class="hljs-property">statusCode</span> : <span class="hljs-number">404</span>;
  <span class="hljs-keyword">return</span> { statusCode };
}
</code></pre><ins class="adsbygoogle" style="display:block" data-ad-client="ca-pub-8378941597140357" data-ad-slot="5406215286" data-ad-format="auto" data-full-width-responsive="true"></ins><h2 id="conclusion">Conclusion</h2><p>You can customize all the error pages with one file, <code>pages/_error.tsx</code>, as below.<br/>It works on both CSR(Client-Side Rendering) and SSR(Server-Side Rendering).</p><pre><code class="hljs language-ts"><span class="hljs-comment">// _error.tsx</span>

<span class="hljs-keyword">import</span> { <span class="hljs-title hljs-class">NextPageContext</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">&quot;next&quot;</span>;
<span class="hljs-keyword">import</span> { <span class="hljs-title hljs-class">PageLayout</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">&quot;../my-components&quot;</span>;

<span class="hljs-keyword">interface</span> <span class="hljs-title hljs-class">Props</span> {
  <span class="hljs-attr">statusCode</span>: <span class="hljs-built_in">number</span>;
}

<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> <span class="hljs-keyword">function</span> <span class="hljs-title hljs-function">Error</span>(<span class="hljs-params">{ statusCode }: Props</span>) {
  <span class="hljs-keyword">return</span> (
    <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">PageLayout</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">h1</span>&gt;</span>
        {/* CSR env: statusCode is &#x27;undefined&#x27;
            SSR env: statusCode has an error code */}
        {!statusCode || statusCode === 404
          ? &quot;404 - Page Not Found&quot;
          : `An error ${statusCode} occurred on server`}
      <span class="hljs-tag">&lt;/<span class="hljs-name">h1</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">PageLayout</span>&gt;</span></span>
  );
}

<span class="hljs-title hljs-class">Error</span>.<span class="hljs-property">getInitialProps</span> = <span class="hljs-function">(<span class="hljs-params">{ res, err }: NextPageContext</span>) =&gt;</span> {
  <span class="hljs-keyword">const</span> statusCode = res ? res.<span class="hljs-property">statusCode</span> : err ? err.<span class="hljs-property">statusCode</span> : <span class="hljs-number">404</span>;
  <span class="hljs-keyword">return</span> { statusCode };
};
</code></pre><h2 id="reference">Reference</h2><ul><li><a href="https://nextjs.org/docs/advanced-features/custom-error-page#404-page">Custom Error Page</a></li></ul></div><div class="hstack gap-2 mt-5"><a href="/pk-blog/post-tags?tags=nextjs">#nextjs</a><a href="/pk-blog/post-tags?tags=javascript">#javascript</a><a href="/pk-blog/post-tags?tags=typescript">#typescript</a><a href="/pk-blog/post-tags?tags=software">#software</a></div></article><ins class="adsbygoogle" style="display:block" data-ad-client="ca-pub-8378941597140357" data-ad-slot="5406215286" data-ad-format="auto" data-full-width-responsive="true"></ins></div></main></div></div></div></div><footer class="jsx-2675683731 layout-footer"><div class="container-fluid pt-2"><div class="row"><div class="col d-flex notice-container justify-content-end align-items-end"><p class="jsx-2675683731 pe-1">© 2005-2021</p><h4 class="jsx-2675683731">Based on <a href="https://github.com/aistyler" class="jsx-2675683731">Vanadium</a>.</h4></div></div></div></footer></div><script id="__NEXT_DATA__" type="application/json">{"props":{"pageProps":{"post":{"file":"nextjs/nextjs-error-page.mdx","categories":["nextjs"],"slug":"nextjs$nextjs-error-page","title":"NextJS Error Page Customization","date":"2021-12-12","tags":["nextjs","javascript","typescript","software"],"coverImage":"/imgs/nextjs-logo.webp","author":{"name":"peterhs.kang","picture":"/imgs/PK.png"},"status":"published","excerpt":"\n## Introduction\n\nNext.js provides a static 404 page by default without having to add any additional files.\nBut you should customize the error pages if you would like to render them with your own page layout.\n\n","content":{"compiledSource":"var N=Object.defineProperty,d=Object.defineProperties;var h=Object.getOwnPropertyDescriptors;var r=Object.getOwnPropertySymbols;var t=Object.prototype.hasOwnProperty,o=Object.prototype.propertyIsEnumerable;var l=(e,s,n)=\u003es in e?N(e,s,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[s]=n,a=(e,s)=\u003e{for(var n in s||(s={}))t.call(s,n)\u0026\u0026l(e,n,s[n]);if(r)for(var n of r(s))o.call(s,n)\u0026\u0026l(e,n,s[n]);return e},m=(e,s)=\u003ed(e,h(s));var c=(e,s)=\u003e{var n={};for(var p in e)t.call(e,p)\u0026\u0026s.indexOf(p)\u003c0\u0026\u0026(n[p]=e[p]);if(e!=null\u0026\u0026r)for(var p of r(e))s.indexOf(p)\u003c0\u0026\u0026o.call(e,p)\u0026\u0026(n[p]=e[p]);return n};const makeShortcode=e=\u003efunction(n){return console.warn(\"Component \"+e+\" was not imported, exported, or provided by MDXProvider as global scope\"),mdx(\"div\",a({},n))},AdSense=makeShortcode(\"AdSense\"),layoutProps={},MDXLayout=\"wrapper\";function MDXContent(n){var p=n,{components:e}=p,s=c(p,[\"components\"]);return mdx(MDXLayout,m(a(a({},layoutProps),s),{components:e,mdxType:\"MDXLayout\"}),mdx(\"h2\",a({},{id:\"introduction\"}),\"Introduction\"),mdx(\"p\",null,\"Next.js provides a static 404 page by default without having to add any additional files.\",mdx(\"br\",{parentName:\"p\"}),\"But you should customize the error pages if you would like to render them with your own page layout.\"),mdx(\"h2\",a({},{id:\"environment\"}),\"Environment\"),mdx(\"pre\",null,mdx(\"code\",a({parentName:\"pre\"},{className:\"hljs language-sh\"}),`% node --version\nv14.17.5\n% yarn --version\n1.22.11\n% egrep `,mdx(\"span\",a({parentName:\"code\"},{className:\"hljs-string\"}),`'(\"react\"|\"next\")'`),` package.json\n    `,mdx(\"span\",a({parentName:\"code\"},{className:\"hljs-string\"}),'\"next\"'),\": \",mdx(\"span\",a({parentName:\"code\"},{className:\"hljs-string\"}),'\"~12.0.4\"'),`,\n    `,mdx(\"span\",a({parentName:\"code\"},{className:\"hljs-string\"}),'\"react\"'),\": \",mdx(\"span\",a({parentName:\"code\"},{className:\"hljs-string\"}),'\"~17.0.2\"'),`,\n`)),mdx(\"h2\",a({},{id:\"how-to-customize-the-404-error-page\"}),\"How to customize the 404 error page\"),mdx(\"ul\",null,mdx(\"li\",{parentName:\"ul\"},\"create a \",mdx(\"inlineCode\",{parentName:\"li\"},\"pages/404.jsx\"),\" (or .tsx) file.\")),mdx(\"pre\",null,mdx(\"code\",a({parentName:\"pre\"},{className:\"hljs language-js\"}),mdx(\"span\",a({parentName:\"code\"},{className:\"hljs-comment\"}),\"// pages/404.jsx\"),`\n`,mdx(\"span\",a({parentName:\"code\"},{className:\"hljs-keyword\"}),\"export\"),\" \",mdx(\"span\",a({parentName:\"code\"},{className:\"hljs-keyword\"}),\"default\"),\" \",mdx(\"span\",a({parentName:\"code\"},{className:\"hljs-keyword\"}),\"function\"),\" \",mdx(\"span\",a({parentName:\"code\"},{className:\"hljs-title hljs-function\"}),\"Custom404\"),\"(\",mdx(\"span\",a({parentName:\"code\"},{className:\"hljs-params\"})),`) {\n  `,mdx(\"span\",a({parentName:\"code\"},{className:\"hljs-keyword\"}),\"return\"),\" \",mdx(\"span\",a({parentName:\"code\"},{className:\"xml\"}),mdx(\"span\",a({parentName:\"span\"},{className:\"hljs-tag\"}),\"\u003c\",mdx(\"span\",a({parentName:\"span\"},{className:\"hljs-name\"}),\"h1\"),\"\u003e\"),\"404 - Page Not Found\",mdx(\"span\",a({parentName:\"span\"},{className:\"hljs-tag\"}),\"\u003c/\",mdx(\"span\",a({parentName:\"span\"},{className:\"hljs-name\"}),\"h1\"),\"\u003e\")),`;\n}\n`)),mdx(AdSense,{mdxType:\"AdSense\"}),mdx(\"h2\",a({},{id:\"how-to-customize-the-500-error-page\"}),\"How to customize the 500 error page\"),mdx(\"ul\",null,mdx(\"li\",{parentName:\"ul\"},\"create a \",mdx(\"inlineCode\",{parentName:\"li\"},\"pages/500.jsx\"),\" (or .tsx) file.\")),mdx(\"pre\",null,mdx(\"code\",a({parentName:\"pre\"},{className:\"hljs language-js\"}),mdx(\"span\",a({parentName:\"code\"},{className:\"hljs-comment\"}),\"// pages/500.jsx\"),`\n`,mdx(\"span\",a({parentName:\"code\"},{className:\"hljs-keyword\"}),\"export\"),\" \",mdx(\"span\",a({parentName:\"code\"},{className:\"hljs-keyword\"}),\"default\"),\" \",mdx(\"span\",a({parentName:\"code\"},{className:\"hljs-keyword\"}),\"function\"),\" \",mdx(\"span\",a({parentName:\"code\"},{className:\"hljs-title hljs-function\"}),\"Custom500\"),\"(\",mdx(\"span\",a({parentName:\"code\"},{className:\"hljs-params\"})),`) {\n  `,mdx(\"span\",a({parentName:\"code\"},{className:\"hljs-keyword\"}),\"return\"),\" \",mdx(\"span\",a({parentName:\"code\"},{className:\"xml\"}),mdx(\"span\",a({parentName:\"span\"},{className:\"hljs-tag\"}),\"\u003c\",mdx(\"span\",a({parentName:\"span\"},{className:\"hljs-name\"}),\"h1\"),\"\u003e\"),\"500 - Server-side error occurred\",mdx(\"span\",a({parentName:\"span\"},{className:\"hljs-tag\"}),\"\u003c/\",mdx(\"span\",a({parentName:\"span\"},{className:\"hljs-name\"}),\"h1\"),\"\u003e\")),`;\n}\n`)),mdx(\"h2\",a({},{id:\"how-to-customize-all-error-pages\"}),\"How to customize all error pages\"),mdx(\"ul\",null,mdx(\"li\",{parentName:\"ul\"},\"create a \",mdx(\"inlineCode\",{parentName:\"li\"},\"pages/_error.jsx\"),\" (or .tsx) file.\"),mdx(\"li\",{parentName:\"ul\"},\"N.B.\",mdx(\"ul\",{parentName:\"li\"},mdx(\"li\",{parentName:\"ul\"},\"pages/_error.js is only used in production.\"),mdx(\"li\",{parentName:\"ul\"},\"In development you\\u2019ll get an error with the call stack to know where the error originated from.\")))),mdx(\"pre\",null,mdx(\"code\",a({parentName:\"pre\"},{className:\"hljs language-js\"}),mdx(\"span\",a({parentName:\"code\"},{className:\"hljs-comment\"}),\"// pages/_error.jsx\"),`\n`,mdx(\"span\",a({parentName:\"code\"},{className:\"hljs-keyword\"}),\"function\"),\" \",mdx(\"span\",a({parentName:\"code\"},{className:\"hljs-title hljs-function\"}),\"Error\"),\"(\",mdx(\"span\",a({parentName:\"code\"},{className:\"hljs-params\"}),\"{ statusCode }\"),`) {\n  `,mdx(\"span\",a({parentName:\"code\"},{className:\"hljs-keyword\"}),\"return\"),` (\n    `,mdx(\"span\",a({parentName:\"code\"},{className:\"xml\"}),mdx(\"span\",a({parentName:\"span\"},{className:\"hljs-tag\"}),\"\u003c\",mdx(\"span\",a({parentName:\"span\"},{className:\"hljs-name\"}),\"p\"),\"\u003e\"),`\n      {statusCode\n        ? \\`An error \\${statusCode} occurred on server\\`\n        : 'An error occurred on client'}\n    `,mdx(\"span\",a({parentName:\"span\"},{className:\"hljs-tag\"}),\"\u003c/\",mdx(\"span\",a({parentName:\"span\"},{className:\"hljs-name\"}),\"p\"),\"\u003e\")),`\n  );\n}\n\n`,mdx(\"span\",a({parentName:\"code\"},{className:\"hljs-title hljs-class\"}),\"Error\"),\".\",mdx(\"span\",a({parentName:\"code\"},{className:\"hljs-property\"}),\"getInitialProps\"),\" = \",mdx(\"span\",a({parentName:\"code\"},{className:\"hljs-function\"}),\"(\",mdx(\"span\",a({parentName:\"span\"},{className:\"hljs-params\"}),\"{ res, err }\"),\") =\u003e\"),` {\n  `,mdx(\"span\",a({parentName:\"code\"},{className:\"hljs-keyword\"}),\"const\"),\" statusCode = res ? res.\",mdx(\"span\",a({parentName:\"code\"},{className:\"hljs-property\"}),\"statusCode\"),\" : err ? err.\",mdx(\"span\",a({parentName:\"code\"},{className:\"hljs-property\"}),\"statusCode\"),\" : \",mdx(\"span\",a({parentName:\"code\"},{className:\"hljs-number\"}),\"404\"),`;\n  `,mdx(\"span\",a({parentName:\"code\"},{className:\"hljs-keyword\"}),\"return\"),` { statusCode };\n}\n`)),mdx(AdSense,{mdxType:\"AdSense\"}),mdx(\"h2\",a({},{id:\"conclusion\"}),\"Conclusion\"),mdx(\"p\",null,\"You can customize all the error pages with one file, \",mdx(\"inlineCode\",{parentName:\"p\"},\"pages/_error.tsx\"),\", as below.\",mdx(\"br\",{parentName:\"p\"}),\"It works on both CSR(Client-Side Rendering) and SSR(Server-Side Rendering).\"),mdx(\"pre\",null,mdx(\"code\",a({parentName:\"pre\"},{className:\"hljs language-ts\"}),mdx(\"span\",a({parentName:\"code\"},{className:\"hljs-comment\"}),\"// _error.tsx\"),`\n\n`,mdx(\"span\",a({parentName:\"code\"},{className:\"hljs-keyword\"}),\"import\"),\" { \",mdx(\"span\",a({parentName:\"code\"},{className:\"hljs-title hljs-class\"}),\"NextPageContext\"),\" } \",mdx(\"span\",a({parentName:\"code\"},{className:\"hljs-keyword\"}),\"from\"),\" \",mdx(\"span\",a({parentName:\"code\"},{className:\"hljs-string\"}),'\"next\"'),`;\n`,mdx(\"span\",a({parentName:\"code\"},{className:\"hljs-keyword\"}),\"import\"),\" { \",mdx(\"span\",a({parentName:\"code\"},{className:\"hljs-title hljs-class\"}),\"PageLayout\"),\" } \",mdx(\"span\",a({parentName:\"code\"},{className:\"hljs-keyword\"}),\"from\"),\" \",mdx(\"span\",a({parentName:\"code\"},{className:\"hljs-string\"}),'\"../my-components\"'),`;\n\n`,mdx(\"span\",a({parentName:\"code\"},{className:\"hljs-keyword\"}),\"interface\"),\" \",mdx(\"span\",a({parentName:\"code\"},{className:\"hljs-title hljs-class\"}),\"Props\"),` {\n  `,mdx(\"span\",a({parentName:\"code\"},{className:\"hljs-attr\"}),\"statusCode\"),\": \",mdx(\"span\",a({parentName:\"code\"},{className:\"hljs-built_in\"}),\"number\"),`;\n}\n\n`,mdx(\"span\",a({parentName:\"code\"},{className:\"hljs-keyword\"}),\"export\"),\" \",mdx(\"span\",a({parentName:\"code\"},{className:\"hljs-keyword\"}),\"default\"),\" \",mdx(\"span\",a({parentName:\"code\"},{className:\"hljs-keyword\"}),\"function\"),\" \",mdx(\"span\",a({parentName:\"code\"},{className:\"hljs-title hljs-function\"}),\"Error\"),\"(\",mdx(\"span\",a({parentName:\"code\"},{className:\"hljs-params\"}),\"{ statusCode }: Props\"),`) {\n  `,mdx(\"span\",a({parentName:\"code\"},{className:\"hljs-keyword\"}),\"return\"),` (\n    `,mdx(\"span\",a({parentName:\"code\"},{className:\"xml\"}),mdx(\"span\",a({parentName:\"span\"},{className:\"hljs-tag\"}),\"\u003c\",mdx(\"span\",a({parentName:\"span\"},{className:\"hljs-name\"}),\"PageLayout\"),\"\u003e\"),`\n      `,mdx(\"span\",a({parentName:\"span\"},{className:\"hljs-tag\"}),\"\u003c\",mdx(\"span\",a({parentName:\"span\"},{className:\"hljs-name\"}),\"h1\"),\"\u003e\"),`\n        {/* CSR env: statusCode is 'undefined'\n            SSR env: statusCode has an error code */}\n        {!statusCode || statusCode === 404\n          ? \"404 - Page Not Found\"\n          : \\`An error \\${statusCode} occurred on server\\`}\n      `,mdx(\"span\",a({parentName:\"span\"},{className:\"hljs-tag\"}),\"\u003c/\",mdx(\"span\",a({parentName:\"span\"},{className:\"hljs-name\"}),\"h1\"),\"\u003e\"),`\n    `,mdx(\"span\",a({parentName:\"span\"},{className:\"hljs-tag\"}),\"\u003c/\",mdx(\"span\",a({parentName:\"span\"},{className:\"hljs-name\"}),\"PageLayout\"),\"\u003e\")),`\n  );\n}\n\n`,mdx(\"span\",a({parentName:\"code\"},{className:\"hljs-title hljs-class\"}),\"Error\"),\".\",mdx(\"span\",a({parentName:\"code\"},{className:\"hljs-property\"}),\"getInitialProps\"),\" = \",mdx(\"span\",a({parentName:\"code\"},{className:\"hljs-function\"}),\"(\",mdx(\"span\",a({parentName:\"span\"},{className:\"hljs-params\"}),\"{ res, err }: NextPageContext\"),\") =\u003e\"),` {\n  `,mdx(\"span\",a({parentName:\"code\"},{className:\"hljs-keyword\"}),\"const\"),\" statusCode = res ? res.\",mdx(\"span\",a({parentName:\"code\"},{className:\"hljs-property\"}),\"statusCode\"),\" : err ? err.\",mdx(\"span\",a({parentName:\"code\"},{className:\"hljs-property\"}),\"statusCode\"),\" : \",mdx(\"span\",a({parentName:\"code\"},{className:\"hljs-number\"}),\"404\"),`;\n  `,mdx(\"span\",a({parentName:\"code\"},{className:\"hljs-keyword\"}),\"return\"),` { statusCode };\n};\n`)),mdx(\"h2\",a({},{id:\"reference\"}),\"Reference\"),mdx(\"ul\",null,mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",a({parentName:\"li\"},{href:\"https://nextjs.org/docs/advanced-features/custom-error-page#404-page\"}),\"Custom Error Page\"))))}MDXContent.isMDXComponent=!0;\n","scope":{}}}},"__N_SSG":true},"page":"/posts/[slug]","query":{"slug":"nextjs$nextjs-error-page"},"buildId":"-2EqFFOj30m3NV4LqoTUp","assetPrefix":"/pk-blog","isFallback":false,"gsp":true,"scriptLoader":[]}</script></body></html>